{
  "id": "469871bf",
  "title": "PI-TODOS: Hide internal random todo IDs from user/agent UX",
  "tags": [
    "pi-todos",
    "ux",
    "id-model"
  ],
  "status": "done",
  "created_at": "2026-02-13T15:01:59.446Z",
  "checklist": [
    {
      "id": "1",
      "title": "Audit all user-visible and agent-visible ID surfaces in format, tui, tool render, and serializer paths",
      "status": "checked"
    },
    {
      "id": "2",
      "title": "Design public identifier strategy so internal filename ID remains private while references stay stable",
      "status": "checked"
    },
    {
      "id": "3",
      "title": "Implement formatter/renderer changes to remove internal random IDs from list, detail, action menu, and tool call/result text",
      "status": "checked"
    },
    {
      "id": "4",
      "title": "Update agent payload serialization to avoid exposing internal random IDs and adapt lookup flow if needed",
      "status": "checked"
    },
    {
      "id": "5",
      "title": "Validate UX copy and interactions across open/closed tabs and command/tool outputs for clarity",
      "status": "checked"
    }
  ]
}

Goal: Improve PI-TODOS UI/UX so random file-based todo IDs are internal-only and not exposed to end users or agents.

Context reviewed:
- `format/base.ts` currently surfaces `formatTodoId(todo.id)` broadly in headings/search text
- `format/render.ts` currently shows formatted IDs in list/detail rendering
- `format/agent.ts` currently serializes IDs to agent payloads
- `tui/action-menu.ts` currently includes ID in action header
- `tool/render.ts` currently prints IDs in tool call rendering

Scope:
- Keep random IDs for internal storage/locking/lookup
- Remove or replace ID visibility in user and agent-facing interfaces
- Ensure behavior remains deterministic and non-ambiguous for selecting and operating on todos
