{
  "id": "3615ba37",
  "title": "[Phase 2] PI-TODOS: Grouping, blockers, and yeeting",
  "tags": [
    "pi-todos",
    "gui",
    "ux"
  ],
  "status": "open",
  "created_at": "2026-02-12T01:10:00.000Z"
}

Add grouping, dependency tracking, and programmatic task selection to pi-todos.

## Files to Modify
- `pi-extensions-dev/pi-todos/todos.ts`

## Data Model Extensions

### TodoFrontMatter
```typescript
interface TodoFrontMatter {
  // ... existing fields
  group?: string;           // Group/category name
  dependsOn?: string[];     // Array of todo IDs this depends on
  priority?: "low" | "medium" | "high";
}
```

## Implementation Steps

### 1. Parser/Serializer Updates
- Add new optional fields to parser/serializer
- Backwards compatible

### 2. Dependency Analysis
```typescript
function getBlockedTodos(todos: TodoFrontMatter[]): Set<string> {
  const blocked = new Set<string>();
  for (const todo of todos) {
    if (todo.dependsOn?.some(depId => {
      const dep = todos.find(t => t.id === depId);
      return dep && !isTodoClosed(dep.status);
    })) {
      blocked.add(todo.id);
    }
  }
  return blocked;
}
```

### 3. TUI Grouping View
- Add "View by: Status | Group" toggle
- Group header shows group name with count
- Blocked todos show blocker indicator (⚠)

### 4. "Yeet" Feature
In action menu, add "Work on group" option:
- Shows list of groups
- User selects a group
- Extension finds first non-blocked, incomplete todo in group
- Auto-injects prompt: `Work on todo ${id} from group "${group}": ${title}`

### 5. Visual Indicators
```
▼ Authentication (3 todos)
  → TODO-abc123 Implement login [in-progress]
  TODO-def456 Add OAuth [blocked by abc123] ⚠
  TODO-ghi789 Write tests [open]
```

## Acceptance Criteria
- [ ] Group field stored in frontmatter
- [ ] DependsOn field stored in frontmatter
- [ ] TUI can group todos by group name
- [ ] Blocked todos visually indicated
- [ ] "Work on group" feature works
- [ ] Backwards compatible
